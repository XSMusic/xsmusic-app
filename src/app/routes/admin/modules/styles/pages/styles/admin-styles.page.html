<header-custom [title]="'Estilos'"></header-custom>

<div class="container px-4 pt-3 mx-auto max-w-full-xl sm:pb-0 max-w-7sm">
  <buttons-block
    type="styles"
    (search)="onSearch($event)"
    (onClickButton)="onClickButton($event)"
  ></buttons-block>
  <div
    @inOut
    class="grid grid-cols-1 gap-3 my-3 overflow-x-auto lg:grid-cols-3"
    *ngIf="!loading"
  >
    <div
      *ngFor="let style of styles"
      class="w-full text-center border rounded-md shadow-md cursor-pointer focus:animate-pulse px-auto hover:animate-pulse hover:bg-gray-100"
      [routerLink]="['one/', style._id]"
    >
      <div class="p-2 mb-1 text-base font-semibold border-b-2">
        {{ style.name }}
      </div>
      <div class="grid w-full grid-cols-3 gap-2 px-1 pt-">
        <div class="p-3 text-center">
          <div class="text-sm text-gray-500">Artistas</div>
          <div class="text-xl font-bold">{{ style.artists!.count }}</div>
        </div>
        <div class="p-3 text-center">
          <div class="text-sm text-gray-500">Sets</div>
          <div class="text-xl font-bold">1</div>
        </div>
        <div class="p-3 text-center">
          <div class="text-sm text-gray-500">Tracks</div>
          <div class="text-xl font-bold">1</div>
        </div>
      </div>
    </div>
  </div>
  <div
    class="search-results"
    infiniteScroll
    [infiniteScrollDistance]="2"
    [infiniteScrollThrottle]="50"
    (scrolled)="onScroll()"
  ></div>

  <ng-container *ngIf="loading">
    <div class="w-full py-2">
      <div
        *ngFor="let artist of [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]"
        class="relative h-24 my-4 overflow-hidden bg-gray-100 shadow-xl cursor-pointer animate-pulse"
      ></div>
    </div>
  </ng-container>
</div>
