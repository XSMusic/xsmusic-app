<header-custom
  [title]="'Festivales'"
  [total]="total"
  (onClickTitle)="goToPage({type: 'festival', admin:true, 'typeRoute': 'all'})"
></header-custom>

<div class="container px-4 pt-3 mx-auto max-w-full-xl sm:pb-0 max-w-7sm">
  <tabs
    type="sites"
    (search)="onSearch($event)"
    (onFilter)="onFilter($event)"
    (onClickTab)="onClickTab($event)"
  ></tabs>

  <alert
    type="info"
    message="Filtro activado."
    actionText="Quitar"
    (action)="removeFilter()"
    *ngIf="body.filter && body.filter.length > 0"
  ></alert>

  <generic-view-gallery
    *ngIf="view === 'viewGallery'"
    [items]="items"
    [loading]="loading"
    type="festival"
    (goToPage)="goToPage($event)"
    (onScroll)="onScroll()"
  ></generic-view-gallery>

  <sites-view-list
    *ngIf="view === 'viewList'"
    [sites]="items"
    [loading]="loading"
    type="festivals"
    (goToPage)="goToPage($event)"
    (filter)="onFilter($event)"
    (onScroll)="onScroll()"
  ></sites-view-list>

  <map
    *ngIf="view === 'viewMap' && itemsMap.length > 0"
    [class]="'mt-2 rounded-lg overflow-hidden'"
    [style]="'height: calc(100vh - 175px)'"
    [markers]="itemsMap"
    [zoom]="6"
  ></map>
</div>
