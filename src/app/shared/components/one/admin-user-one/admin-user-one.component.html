<form *ngIf="user" @inOut>
  <div class="grid grid-cols-1 gap-4 mt-1 lg:grid-cols-4">
    <div class="col-span-4 mb-1 md:col-span-2">
      <images-edit-block
        [item]="user"
        (showImage)="showImage.emit({ image: $event, remote: false })"
        (removeImage)="removeImage.emit($event)"
        (setFirstImage)="setFirstImage.emit($event)"
        (toggleAddImage)="imageState = !imageState"
      ></images-edit-block>
    </div>

    <div class="col-span-4 gap-4 md:col-span-2">
      <div class="col-span-2 md:col-span-2">
        <label
          for="name"
          class="block mt-2 mb-1 text-base font-extrabold text-black dark:text-white"
        >
          Nombre
        </label>
        <input
          name="name"
          type="text"
          [(ngModel)]="user.name"
          placeholder="Introduce el nombre"
          class="w-full px-6 text-base font-medium bg-white border border-gray-200 rounded-md dark:border-gray-700 dark:text-white dark:bg-black rounded-y-md ring-red-500 dark:ring-red-500"
        />
      </div>

      <div class="col-span-2 md:col-span-1">
        <label
          for="email"
          class="block mt-2 mb-1 text-base font-extrabold text-black dark:text-white"
        >
          Email
        </label>
        <input
          name="email"
          type="text"
          [(ngModel)]="user.email"
          placeholder="Introduce el email"
          class="w-full px-6 text-base font-medium bg-white border border-gray-200 rounded-md dark:border-gray-700 dark:text-white dark:bg-black rounded-y-md ring-red-500 dark:ring-red-500"
        />
      </div>

      <div class="col-span-2 md:col-span-2">
        <label
          for="role"
          class="block mt-2 mb-1 text-base font-extrabold text-black dark:text-white"
        >
          Rol
        </label>
        <select
          name="role"
          type="text"
          [(ngModel)]="user.role"
          class="w-full px-6 text-base font-medium bg-white border border-gray-200 rounded-md dark:border-gray-700 dark:text-white dark:bg-black rounded-y-md ring-red-500 dark:ring-red-500"
        >
          <option *ngFor="let role of roles">
            {{ role }}
          </option>
        </select>
      </div>

      <div class="col-span-2 md:col-span-2">
        <label
          for="darkMode"
          class="block mt-2 mb-1 text-base font-extrabold text-black dark:text-white"
        >
          Modo oscuro
        </label>
        <select
          name="darkMode"
          type="text"
          [(ngModel)]="user.darkMode"
          class="w-full px-6 text-base font-medium bg-white border border-gray-200 rounded-md dark:border-gray-700 dark:text-white dark:bg-black rounded-y-md ring-red-500 dark:ring-red-500"
        >
          <option
            *ngFor="let darkMode of darkModeValues"
            [value]="darkMode.value"
          >
            {{ darkMode.name }}
          </option>
        </select>
      </div>

      <div class="col-span-4 md:col-span-4">
        <images-upload-url
          [imageState]="imageState"
          [image]="image"
          (showImage)="showImage.emit($event)"
          (uploadImageByUrl)="uploadImageByUrl.emit($event)"
          (uploadImageByFile)="uploadImageByFile.emit($event)"
        ></images-upload-url>
      </div>
    </div>

    <!-- Actions Buttons -->
    <div class="col-span-2 mb-2">
      <button
        type="submit"
        (click)="onSubmit.emit()"
        class="w-full py-1 m-1 text-white bg-green-500 border-green-500 rounded-lg shadow-md md:w-32 hover:bg-green-600 hover:border-green-600'"
      >
        Guardar
      </button>
      <button
        type="button"
        *ngIf="user._id"
        (click)="delete.emit()"
        class="w-full py-1 m-1 text-white bg-red-500 border-2 border-red-500 rounded-lg shadow-md hover:bg-red-600 hover:border-red-600 hover:text-white md:w-32"
      >
        Eliminar
      </button>
    </div>
  </div>
</form>
